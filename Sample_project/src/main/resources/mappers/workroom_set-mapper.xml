<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.kh.sample.workroomset">
	
	<select id="getWrSet" resultType="WorkroomVo">
		select wr.*, a.cate_name as "cate_no1", b.cate_name as "cate_no2", c.cate_name as "cate_no3"
		from tbl_workroom wr
		    left join tbl_memberdetail mem on wr.user_id = mem.user_id
		    left join tbl_hobby_cate a on mem.cate_no1 = a.cate_no
		    left join tbl_hobby_cate b on mem.cate_no2 = b.cate_no
		    left join tbl_hobby_cate c on mem.cate_no3 = c.cate_no
		where wr.user_id = #{user_id}
	</select>
	
	<!-- 작업실 이름변경 -->
	<update id="updateWrName">
		update tbl_workroom set
			wr_name = #{wr_name}
		where user_id = #{user_id}
	</update>
		
</mapper>







